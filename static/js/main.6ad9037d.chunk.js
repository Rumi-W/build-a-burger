(this["webpackJsonpbuild-a-burger"]=this["webpackJsonpbuild-a-burger"]||[]).push([[0],{104:function(e,t,n){e.exports=n.p+"static/media/burger-logo.b8503d26.png"},109:function(e,t,n){e.exports=n.p+"static/media/meat.a0478dbc.png"},110:function(e,t,n){e.exports=n.p+"static/media/cheese.da4360aa.png"},111:function(e,t,n){e.exports=n.p+"static/media/lettuce.e1008a05.png"},112:function(e,t,n){e.exports=n.p+"static/media/bacon.8f9801a8.png"},113:function(e,t,n){e.exports=n.p+"static/media/tomato.1dd32b5b.png"},114:function(e,t,n){e.exports=n.p+"static/media/bun-top.e610fbf1.png"},115:function(e,t,n){e.exports=n.p+"static/media/bun-bottom.b7ec6daf.png"},132:function(e,t,n){e.exports=n(164)},162:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),c=n(97),l=n(21),s=n(12),u=n(218),d=n(223),p=n(119),m=Object(d.a)(Object(p.a)({palette:{primary:{dark:"#2e73ab",main:"#42a5f5",light:"#67b7f7"},secondary:{dark:"#7bc1f8",main:"#c6e4fc",light:"#f6fbff"},backgroundColor:{paper:"#ffffff"},text:{primary:"#000000",secondary:"#888888"},typography:{htmlFontSize:10}},overrides:{MuiTooltip:{tooltip:{fontSize:"1em"}}}})),b=n(4);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={ingredients:[],loading:!1,success:!1},O=function(e){var t=0;return e&&Object.keys(e).length>0&&Object.keys(e).forEach((function(n){e[n]&&Object.keys(e[n]).length>0&&Object.keys(e[n]).forEach((function(a){t+=parseFloat(e[n][a].priceToPay)}))})),t};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=function(e,t){var n=t.itemType,a=t.itemKey,r=t.orderObj,i=r.quantity,o=r.priceToPay,c=v({},e.order),l=v({},c[n]);l=v({},l,Object.prototype.hasOwnProperty.call(l,a)?Object(b.a)({},a,v({},l[a],{quantity:l[a].quantity+i,priceToPay:l[a].priceToPay+o})):Object(b.a)({},a,v({},r))),c=v({},c,Object(b.a)({},n,l));var s=O(c);return v({},e,{order:v({},c),totalPrice:s})},j=function(e,t){var n=t.itemType,a=t.itemKey,r=t.orderObj,i=r.priceToPay,o=r.quantity,c=v({},e.order),l=v({},c[n]);Object.prototype.hasOwnProperty.call(l,a)?0===o?delete l[a]:l=v({},l,Object(b.a)({},a,v({},l[a],{},{quantity:o,priceToPay:i}))):l=v({},l,Object(b.a)({},a,v({},r))),c=v({},c,Object(b.a)({},n,l));var s=O(c);return v({},e,{order:v({},c),totalPrice:s})},x=function(e,t){var n=t.itemType,a=t.itemKey,r=v({},e.order),i=v({},r[n]);i&&Object.prototype.hasOwnProperty.call(i,a)&&delete i[a],r=v({},r,Object(b.a)({},n,i));var o=O(r);return v({},e,{order:v({},r),totalPrice:o})},I=function(e,t){var n=t.itemType,a=t.itemKey,r=v({},e.order),i=v({},r[n]);if(i&&Object.prototype.hasOwnProperty.call(i,a)){var o=i[a].quantity+1;i[a].quantity=o,i[a].priceToPay=o*i[a].unitPrice}r=v({},r,Object(b.a)({},n,i));var c=O(r);return v({},e,{order:v({},r),totalPrice:c})},k=function(e,t){var n=t.itemType,a=t.itemKey,r=v({},e.order),i=v({},r[n]);if(i&&Object.prototype.hasOwnProperty.call(i,a)){if(0===i[a].quantity)return v({},e);var o=i[a].quantity-1;i[a].quantity=o,i[a].priceToPay=o*i[a].unitPrice}r=v({},r,Object(b.a)({},n,i));var c=O(r);return v({},e,{order:v({},r),totalPrice:c})};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={order:{burgers:{},beverages:{}},totalPrice:parseFloat(0),orderDateTime:"",loading:!1,success:!1};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={menu:{},loading:!1,success:!1};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={idToken:null,userId:null,error:null,loading:!1},F=n(24),A=n(50),B=n.n(A);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var U={orders:[],loading:!1,success:!1},z=function(e){var t=Object.keys(e).map((function(t){return{order:e[t].order,customer:e[t].customer,orderDateTime:e[t].orderDateTime,totalPrice:e[t].totalPrice,id:t}}));return t.sort((function(e,t){var n=B()(e.orderDateTime),a=B()(t.orderDateTime);return a.diff(n,"hours")>1?1:a.diff(n,"hours")<1?-1:0})),t},L=Object(s.c)({ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_INGREDIENTS_START":return g({},e,{loading:!0});case"FETCH_INGREDIENTS_SUCCESS":return g({},e,{ingredients:t.ingredients,loading:!1,success:!0});case"FETCH_INGREDIENTS_FAIL":return g({},e,{loading:!1,success:!1});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"ADD_BURGER":return E(e,t);case"CHANGE_DRINK_ORDER":return j(e,t);case"RESET_DRINK_ORDER":return S({},e,{order:S({},e.order,{beverages:{}})});case"REMOVE_ITEM":return x(e,t);case"ADD_ONE":return I(e,t);case"SUBTRACT_ONE":return k(e,t);case"RESET_ORDER":return S({},C);case"SUBMIT_ORDER_START":return S({},e,{loading:!0});case"SUBMIT_ORDER_SUCCESS":return S({},C,{loading:!1,success:!0});case"SUBMIT_ORDER_FAILT":return S({},e,{loading:!1,success:!1});default:return e}},drinkMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_DRINK_MENU_START":return P({},e,{loading:!0});case"FETCH_DRINK_MENU_SUCCESS":return P({},e,{menu:t.data,loading:!1,success:!0});case"FETCH_DRINK_MENU_FAIL":return P({},e,{loading:!1,success:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"AUTH_START":return N({},e,{loading:!0});case"AUTH_SUCCESS":return N({},e,{userId:t.userId,idToken:t.idToken,loading:!1,error:null});case"AUTH_FAIL":return{idToken:null,userId:null,loading:!1,error:t.error};case"AUTH_LOGOUT":return N({},_);default:return e}},orderHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"FETCH_ORDER_HISTORY_START":return M({},e,{loading:!0});case"FETCH_ORDER_HISTORY_SUCCESS":return{loading:!1,success:!0,orders:Object(F.a)(z(t.orders))};case"FETCH_ORDER_HISTORY_FAIL":return M({},e,{loading:!1,success:!1});default:return e}}}),W=n(15),q=n(10),K=n(19),V=n(20),G=n(22),Q=n(26),Y=n(48),$=n(101),J=n(205),X=function(e){return e.children},Z=n(23),ee=n(228),te=n(106),ne=n.n(te),ae=n(107),re=n.n(ae),ie=n(108),oe=n.n(ie),ce=n(83),le=n(199),se=n(226),ue=n(224),de=function(e){var t=e.navItemsStyle,n=e.navOption,i=Object(Y.h)(),o=t.menuItem,c=t.menuIcon,l=t.menuText,s=Object(a.useState)(i.pathname),u=Object(Z.a)(s,2),d=u[0],p=u[1];return Object(a.useEffect)((function(){p(i.pathname)}),[i.pathname]),r.a.createElement(se.a,{style:o,selected:n.navLink===d,component:Q.c,to:n.navLink},r.a.createElement(le.a,{style:c},r.a.createElement(ue.a,{title:n.tooltipText,"aria-label":n.tooltipText},n.navMenuIcon)),r.a.createElement(ce.a,{variant:"subtitle1",style:l},n.navMenuText))},pe=function(e){var t=e.userId,n=e.navItemsStyle,i=e.navOption,o=Object(Y.h)(),c=Object(Y.g)(),l=n.menuItem,s=n.menuIcon,u=n.menuText,d=Object(a.useState)(o.pathname),p=Object(Z.a)(d,2),m=p[0],b=p[1];Object(a.useEffect)((function(){b(o.pathname)}),[o.pathname]);return r.a.createElement(se.a,{style:l,selected:"/auth"===m||"/signout"===m,onClick:function(){t?c.push("/signout"):c.push("/auth")}},r.a.createElement(le.a,{style:s},r.a.createElement(ue.a,{title:t?"Sign Out":"Sign In","aria-label":"auth"},i.navMenuIcon)),r.a.createElement(ce.a,{variant:"subtitle1",style:u},t?"Sign Out":"Sign In"))},me=n(3),be=n(18),fe=n(201),ge=n(166),he=n(103),Oe=n.n(he),ye=n(102),ve=n.n(ye),Ee=n(227);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ie=Object($.a)((function(e){var t;return{drawer:Object(b.a)({width:200,flexShrink:0,whiteSpace:"nowrap"},e.breakpoints.up("sm"),{width:200,flexShrink:0}),drawerOpen:{width:200,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:(t={transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},Object(b.a)(t,e.breakpoints.up("md"),{width:e.spacing(9)+1}),Object(b.a)(t,e.breakpoints.down("sm"),{width:0}),t),toolbar:xe({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar)}})),ke=function(e){var t,n,a=e.open,i=e.handleDrawerClose,o=(e.handleDrawerOpen,e.children),c=Ie(),l=Object(be.a)();return r.a.createElement(Ee.a,{variant:"permanent",className:Object(me.a)(c.drawer,(t={},Object(b.a)(t,c.drawerOpen,a),Object(b.a)(t,c.drawerClose,!a),t)),classes:{paper:Object(me.a)((n={},Object(b.a)(n,c.drawerOpen,a),Object(b.a)(n,c.drawerClose,!a),n))},open:a},r.a.createElement("div",{className:c.toolbar},r.a.createElement(ge.a,{onClick:i},"rtl"===l.direction?r.a.createElement(ve.a,null):r.a.createElement(Oe.a,null))),r.a.createElement(fe.a,null),o)},we=n(202),Se=n(203),Ce=n(204),Te=n(221),Pe=n(105),Re=n.n(Pe),De=n(104),Ne=n.n(De),_e=n(82),Fe=n.n(_e),Ae=function(){return r.a.createElement("div",{className:Fe.a.Logo},r.a.createElement("img",{className:Fe.a.img,src:Ne.a,alt:"hamburger"}))},Be=Object($.a)((function(e){return{appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},hide:{display:"none"},logoDiv:Object(b.a)({order:0},e.breakpoints.down("sm"),{order:99,marginRight:0,marginLeft:"auto"}),nav:{marginRight:"0",marginLeft:"auto"},pageTitle:{margin:0,color:"#fff",textTransform:"none"}}})),He=function(e){var t=e.open,n=e.handleDrawerOpen,a=e.children,i=Be();return r.a.createElement(we.a,{position:"fixed",className:Object(me.a)(i.appBar,Object(b.a)({},i.appBarShift,t))},r.a.createElement(Se.a,null,r.a.createElement(ge.a,{color:"inherit","aria-label":"open drawer",onClick:n,edge:"start",className:Object(me.a)(i.menuButton,Object(b.a)({},i.hide,t))},r.a.createElement(Re.a,null)),r.a.createElement("div",{className:i.logoDiv},r.a.createElement(Ae,null)),r.a.createElement(Ce.a,{component:Q.b,size:"small",to:"/",variant:"text"},r.a.createElement(ce.a,{variant:"h5",noWrap:!0,className:i.pageTitle},"Build A Burger")),r.a.createElement(Te.a,{smDown:!0},r.a.createElement("div",{className:i.nav},a))))},Me={appBar:{menuList:{display:"flex",direction:"row",justifyContent:"flex-end"},menuItem:{},menuIcon:{marginRight:"-24px",color:"#ffffff"},menuText:{color:"#ffffff",fontWeight:"bold"}},sideDrawer:{menuList:{padding:"16px 8px"},menuItem:{marginBottom:"8px"},menuIcon:{},menuText:{}}},Ue=function(e){var t=e.userId,n=(e.children,Object(a.useState)(!1)),i=Object(Z.a)(n,2),o=i[0],c=i[1],l=function(){c(!0)},s=[{navMenuIcon:r.a.createElement(ne.a,{fontSize:"default"}),navMenuText:"Build New",tooltipText:"Build new order",navLink:"/"},{navMenuIcon:r.a.createElement(re.a,{fontSize:"default"}),navMenuText:"Order History",tooltipText:"Order history",navLink:"/orders"}],u={navMenuIcon:r.a.createElement(oe.a,{fontSize:"default"}),navLink:"/auth"};return r.a.createElement("div",null,r.a.createElement(He,{open:o,handleDrawerOpen:l},r.a.createElement(ee.a,{style:Me.appBar.menuList},s.map((function(e,t){return r.a.createElement(de,{key:"appbar-nav-".concat(t),navItemsStyle:Me.appBar,navOption:e})})),r.a.createElement(pe,{userId:t,key:"appbar-nav-auth",navOption:u,navItemsStyle:Me.appBar}))),r.a.createElement(ke,{open:o,handleDrawerClose:function(){c(!1)},handleDrawerOpen:l},r.a.createElement(ee.a,{style:Me.sideDrawer.menuList},s.map((function(e,t){return r.a.createElement(de,{key:"side-nav-".concat(t),navItemsStyle:Me.sideDrawer,navOption:e})})),r.a.createElement(pe,{userId:t,key:"appbar-nav-auth",navOption:u,navItemsStyle:Me.sideDrawer}))))},ze=Object($.a)((function(e){return{root:{display:"flex",width:"100%",height:"100%",minHeight:"800px",minWidth:"400px"},content:Object(b.a)({flexGrow:1,padding:e.spacing(2)},e.breakpoints.down("sm"),{padding:e.spacing(2,0)}),contentWrapper:Object(b.a)({padding:e.spacing(8,0,6,10),height:"100%"},e.breakpoints.down("sm"),{overflow:"scroll",padding:e.spacing(6,0,0,0)})}})),Le=function(e){var t=e.userId,n=e.children,a=ze();return r.a.createElement(X,{className:a.root},r.a.createElement(J.a,null),r.a.createElement(Ue,{userId:t}),r.a.createElement("main",{className:a.content},r.a.createElement("div",{className:a.contentWrapper},n)))},We=n(6),qe=n(213),Ke=n(121),Ve=n(211),Ge=n(222),Qe=n(212),Ye=n(109),$e=n.n(Ye),Je=n(110),Xe=n.n(Je),Ze=n(111),et=n.n(Ze),tt=n(112),nt=n.n(tt),at=n(113),rt=n.n(at),it=n(114),ot=n.n(it),ct=n(115),lt=n.n(ct),st=Object($.a)((function(e){return{breadTop:{height:"9vh",minHeight:"70px",maxHeight:"75px",width:"80%",backgroundImage:"url(".concat(ot.a,")"),backgroundSize:"240px",backgroundRepeat:"no-repeat",margin:"0 auto -6px auto"},breadBottom:{height:"6vh",minHeight:"60px",width:"80%",backgroundImage:"url(".concat(lt.a,")"),backgroundSize:"240px",backgroundRepeat:"no-repeat",margin:"-10px auto -10px auto"},meat:{height:"6vh",minHeight:"50px",width:"80%",backgroundImage:"url(".concat($e.a,")"),backgroundSize:"240px 50px",backgroundRepeat:"no-repeat",margin:"0 auto -10px auto",zIndex:20},cheese:{height:"3vh",minHeight:"30px",maxHeight:"34px",width:"100%",backgroundImage:"url(".concat(Xe.a,")"),backgroundSize:"340px 34px",backgroundRepeat:"no-repeat",margin:"0 auto -8px auto",zIndex:22},lettuce:{height:"4vh",minHeight:"34px",width:"95%",backgroundImage:"url(".concat(et.a,")"),backgroundSize:"280px 40px",backgroundRepeat:"no-repeat",margin:"-10px auto -10px auto",zIndex:21},bacon:{height:"4vh",minHeight:"30px",maxHeight:"40px",width:"95%",backgroundImage:"url(".concat(nt.a,")"),backgroundSize:"280px 40px",backgroundRepeat:"no-repeat",margin:"0 auto -10px auto",zIndex:23},tomato:{height:"4vh",minHeight:"30px",maxHeight:"40px",width:"76%",backgroundImage:"url(".concat(rt.a,")"),backgroundSize:"220px 40px",backgroundRepeat:"no-repeat",margin:"0 auto -10px auto",zIndex:24}}})),ut=function(e){var t=e.type,n=null,a=st();switch(t){case"bread-bottom":n=r.a.createElement("div",{className:a.breadBottom});break;case"bread-top":n=r.a.createElement("div",{className:a.breadTop});break;case"meat":n=r.a.createElement("div",{className:a.meat});break;case"cheese":n=r.a.createElement("div",{className:a.cheese});break;case"bacon":n=r.a.createElement("div",{className:a.bacon});break;case"lettuce":n=r.a.createElement("div",{className:a.lettuce});break;case"tomato":n=r.a.createElement("div",{className:a.tomato});break;default:n=null}return n},dt=Object($.a)((function(e){return{burgerContainer:{display:"flex",minHeight:"300px",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",justifyContent:"center",overflow:"scroll"},burger:{marginTop:"auto",marginBottom:"auto",padding:e.spacing(2,0),display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"center",maxWidth:"300px",overflow:"scroll"}}})),pt=function(e){var t=e.orderIngredients,n=dt(),a=Object.keys(t).map((function(e){return Object(F.a)(Array(t[e])).map((function(t,n){return r.a.createElement(ut,{key:"".concat(e).concat(n),type:e})}))})).reduce((function(e,t){return[].concat(Object(F.a)(e),Object(F.a)(t))}),[]);return r.a.createElement("div",{className:n.burgerContainer},r.a.createElement("div",{className:n.burger},r.a.createElement(ut,{type:"bread-top"}),0===a.length?r.a.createElement(ce.a,{variant:"h4",align:"center",gutterBottom:!0},"Please start adding ingredients"):null,a,r.a.createElement(ut,{type:"bread-bottom"})))},mt=n(219),bt=n(70),ft=n.n(bt),gt=n(68),ht=n.n(gt),Ot=n(69),yt=n.n(Ot),vt=Object($.a)((function(e){return{buttonWrapper:{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",marginBottom:"4px"},labels:{flexDirection:"row",minWidth:e.spacing(16)},buttonRoot:Object(b.a)({minWidth:"50px",height:"30px",margin:"4px"},e.breakpoints.down("sm"),{minWidth:"60px",height:"40px"}),icon:{fontSize:"20px"}}})),Et=function(e){var t=e.label,n=e.price,a=e.removeDisabled,i=e.addDisabled,o=e.handleAddIngredient,c=e.handleRemoveIngredient,l=vt();return r.a.createElement("div",{className:l.buttonWrapper},r.a.createElement("div",{className:l.labels},r.a.createElement(ce.a,{variant:"subtitle1",display:"inline"},t," "),r.a.createElement(ce.a,{variant:"body1",display:"inline"},"($",n.toFixed(2),")")),r.a.createElement(Ce.a,{disabled:i,size:"small",variant:"contained",color:"secondary",classes:{root:l.buttonRoot},onClick:function(){return o()}},r.a.createElement(ht.a,{className:l.icon})),r.a.createElement(Ce.a,{disabled:a,size:"small",variant:"contained",color:"secondary",classes:{root:l.buttonRoot},onClick:function(){return c()}},r.a.createElement(yt.a,{className:l.icon})))},jt=n(206),xt=Object($.a)((function(e){return{root:{display:"flex",justifyContent:"center"}}})),It=function(){var e=xt();return r.a.createElement("div",{className:e.root},r.a.createElement(jt.a,{color:"secondary"}))},kt=Object($.a)((function(e){return{controlsContainer:{display:"flex",flexGrow:1,width:"100%",flexDirection:"column",alignItems:"center",justifyContent:"center"},info:{display:"flex",alignItems:"center",padding:e.spacing(1)},buttons:Object(b.a)({width:"100%",display:"flex",direction:"row",justifyContent:"center",alignItems:"center",marginTop:e.spacing(2)},e.breakpoints.down("sm"),{width:"80%"}),orderButton:{marginRight:e.spacing(1)}}})),wt=function(e){var t=e.basePrice,n=e.orderIngredients,a=e.ingredientsControl,i=e.quantity,o=e.ingredientsTotalPrice,c=e.handleAddIngredient,l=e.handleRemoveIngredient,s=e.handleAddToOrder,u=e.handleResetBuilder,d=e.children,p=kt();return 0===Object.keys(a).length?r.a.createElement(It,null):r.a.createElement(mt.a,{className:p.controlsContainer},r.a.createElement("div",{className:p.info},r.a.createElement(ft.a,{color:"primary",fontSize:"large"}),r.a.createElement(ce.a,{variant:"subtitle1",display:"inline",style:{color:"#0c80df",marginLeft:"2px"}},"Adjust ingredients and quantity. Click 'Add to Order'.")),r.a.createElement("div",{style:{marginBottom:"12px"}},d),Object.keys(a).map((function(e,t){return r.a.createElement(Et,{key:t,label:a[e].label,price:a[e].unitPrice,removeDisabled:0===n[e],addDisabled:2===n[e],handleAddIngredient:function(){return c(e)},handleRemoveIngredient:function(){return l(e)}})})),r.a.createElement(ce.a,{variant:"subtitle1"},"Unit Price: $",parseFloat(parseFloat(o)*i).toFixed(2)),r.a.createElement("div",{className:p.buttons},r.a.createElement(Ce.a,{className:p.orderButton,disabled:o<=t,size:"medium",variant:"contained",color:"primary",onClick:s},"Add to Order"),r.a.createElement(Ce.a,{disabled:o<=t,size:"medium",variant:"contained",onClick:u},"Reset Selection")))},St=n(167),Ct=n(207),Tt=n(208),Pt=n(209),Rt=n(210),Dt=Object(St.a)((function(e){var t;return{dialog:{},content:(t={width:"500px",padding:e.spacing(2)},Object(b.a)(t,e.breakpoints.down("sm"),{width:"500px"}),Object(b.a)(t,e.breakpoints.down("xs"),{width:"380px"}),t)}})),Nt=Object(a.memo)((function(e){var t=e.open,n=e.title,i=e.handleCloseModal,o=e.children,c=e.closeButtonLabel,l=Dt();return Object(a.useEffect)((function(){})),r.a.createElement(Ct.a,{className:l.dialog,"aria-labelledby":"dialog-title",open:t,onClose:i},r.a.createElement(Tt.a,{id:"dialog-title",onClose:i},n),r.a.createElement(Pt.a,{dividers:!0,className:l.content},o),r.a.createElement(Rt.a,null,r.a.createElement(Ce.a,{variant:"contained",onClick:i},c)))}),(function(e,t){return e.title===t.title&&!t.open})),_t=function(e,t){return function(n){function a(e){var n;return Object(W.a)(this,a),(n=Object(K.a)(this,Object(V.a)(a).call(this,e))).handleCloseModal=function(){n.setState((function(){return{error:null}}))},n.state={error:null},n.requestInterceptor=t.interceptors.request.use((function(e){return e}),(function(e){console.log("REQUEST ERROR")})),n.responseInterceptor=t.interceptors.response.use((function(e){return e}),(function(e){console.log("RESPONSE ERROR"),n.setState((function(){return{error:e}}))})),n}return Object(G.a)(a,n),Object(q.a)(a,[{key:"componentWillUnmount",value:function(){t.interceptors.request.eject(this.requestInterceptor),t.interceptors.response.eject(this.responseInterceptor)}},{key:"render",value:function(){var t=this.state.error;return r.a.createElement("div",null,r.a.createElement(Nt,{open:null!==t,handleCloseModal:this.handleCloseModal,title:"Error",closeButtonLabel:"Close"},r.a.createElement(ce.a,null,t?t.message:null)),r.a.createElement(e,this.props))}}]),a}(a.Component)},Ft=n(71),At=n.n(Ft),Bt=At.a.create({baseURL:"https://api-burgers.firebaseio.com/"}),Ht=n(54),Mt=n.n(Ht),Ut=n(72),zt={headers:{"Content-Type":"application/json",Accept:"application/json"}},Lt=function(){return{type:"RESET_ORDER"}},Wt=function(e,t){return{type:"AUTH_SUCCESS",idToken:e,userId:t}},qt=function(){return localStorage.removeItem("idToken"),localStorage.removeItem("expirationDate"),localStorage.removeItem("userId"),{type:"AUTH_LOGOUT"}},Kt=function(e){return function(t){setTimeout((function(){t(qt())}),1e3*e)}},Vt=function(e){var t="";return Object.keys(e).forEach((function(n){e[n]>0&&(""!==t&&(t+=", "),t+="".concat(e[n]," ").concat(n))})),t},Gt=function(e){var t="";return Object.keys(e).forEach((function(n){e[n]>0&&(t+="".concat(e[n]).concat(n))})),t},Qt=function(e){return/^[0-9]{5}$/.test(e)},Yt=function(e){var t=Object.keys(e).map((function(t){return e[t].isValid})),n=!0,a=!1,r=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){if(!i.value)return!1}}catch(c){a=!0,r=c}finally{try{n||null==o.return||o.return()}finally{if(a)throw r}}return!0};function $t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Jt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$t(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$t(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xt={orderIngredients:{bacon:0,tomato:1,cheese:1,lettuce:1,meat:1},basePrice:3,ingredientsTotalPrice:3.8,quantity:1},Zt=function(e){function t(e){var n;return Object(W.a)(this,t),(n=Object(K.a)(this,Object(V.a)(t).call(this,e))).handleAddIngredient=function(e){2!==n.state.orderIngredients[e]&&n.setState((function(t){return{orderIngredients:Jt({},t.orderIngredients,Object(b.a)({},e,t.orderIngredients[e]+1)),ingredientsTotalPrice:t.ingredientsTotalPrice+n.props.ingredientsControl[e].unitPrice}}))},n.handleRemoveIngredient=function(e){0!==n.state.orderIngredients[e]&&n.setState((function(t){return{orderIngredients:Jt({},t.orderIngredients,Object(b.a)({},e,t.orderIngredients[e]-1)),ingredientsTotalPrice:t.ingredientsTotalPrice-n.props.ingredientsControl[e].unitPrice}}),(function(){}))},n.handleQuantityChange=function(e){e.preventDefault(),e.stopPropagation();var t=e.currentTarget.value;n.setState((function(){return{quantity:parseInt(t,10)}}))},n.handleAddToOrder=function(){var e=n.state,t=e.ingredientsTotalPrice,a=e.orderIngredients,r=e.quantity,i=Gt(a),o={parentKey:"",quantity:r,item:"Burger with ".concat(Vt(a)),priceToPay:parseFloat(t)*r,unitPrice:parseFloat(t),ingredients:a};n.props.addBurgerToOrder("burgers",i,o),n.handleResetBuilder()},n.handleResetBuilder=function(){n.setState((function(){return{orderIngredients:Xt.orderIngredients,ingredientsTotalPrice:Xt.ingredientsTotalPrice,quantity:Xt.quantity}}))},n.state=Jt({},Xt),n}return Object(G.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchIngredients()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.ingredientsControl,a=e.loading,i=e.success,o=this.state,c=o.orderIngredients,l=o.basePrice,s=o.ingredientsTotalPrice,u=o.quantity;return a?r.a.createElement(It,null):i?c?r.a.createElement(X,null,r.a.createElement(Ke.a,{className:t.paper},r.a.createElement(pt,{orderIngredients:c}),r.a.createElement(wt,{basePrice:l,orderIngredients:c,ingredientsControl:n,quantity:u,ingredientsTotalPrice:s,handleAddIngredient:this.handleAddIngredient,handleRemoveIngredient:this.handleRemoveIngredient,handleResetBuilder:this.handleResetBuilder,handleAddToOrder:this.handleAddToOrder},r.a.createElement(Ve.a,{variant:"outlined"},r.a.createElement(Ge.a,{id:"burger-quantity",type:"number",value:u,margin:"none",onChange:this.handleQuantityChange,startAdornment:r.a.createElement(Qe.a,{position:"start"},r.a.createElement(ce.a,{variant:"subtitle2"},"Quantity:"," ")),inputProps:{className:t.input,min:0}}))))):r.a.createElement(It,null):r.a.createElement("p",null,"Ingredients cannot be loaded.")}}]),t}(a.Component),en=_t(Object(s.d)(Y.i,Object(We.a)((function(e){return{paper:{paddingBottom:e.spacing(4)},input:{padding:0,textAlign:"center",fontSize:"18px",height:40,width:50}}})),Object(l.b)((function(e){var t=e.ingredients;return{ingredientsControl:t.ingredients,loading:t.loading,success:t.success}}),{fetchIngredients:function(){return function(e){e({type:"FETCH_INGREDIENTS_START"}),Bt.get("/ingredients.json").then((function(t){t.data&&200===t.status?e({type:"FETCH_INGREDIENTS_SUCCESS",ingredients:t.data}):e({type:"FETCH_INGREDIENTS_FAIL"})})).catch((function(t){e({type:"FETCH_INGREDIENTS_FAIL"}),console.log("Error",t)}))}},addBurgerToOrder:function(e,t,n){return{type:"ADD_BURGER",itemType:e,itemKey:t,orderObj:n}}}))(Zt),Bt),tn=Object($.a)((function(e){return{controlWrapper:Object(b.a)({},e.breakpoints.only("sm"),{marginTop:e.spacing(1)}),button:{minHeight:"60px"},orderItems:Object(b.a)({},e.breakpoints.down("sm"),{padding:e.spacing(0,2)})}})),nn=function(e){var t=e.userId,n=e.orderEmpty,a=e.handleStepsChange,i=e.handleCheckout,o=e.handleStartOver,c=e.steps,l=e.children,s=tn(),u=0===c?{backgroundColor:"#c6e4fc"}:{backgroundColor:"#f2f2f2"},d=1===c?{backgroundColor:"#c6e4fc"}:{backgroundColor:"#f2f2f2"};return r.a.createElement("div",{className:s.controlWrapper},r.a.createElement(qe.a,{container:!0,direction:"row"},r.a.createElement(qe.a,{item:!0,xs:12,sm:6,md:6},r.a.createElement(Ce.a,{className:s.button,style:u,variant:"contained",size:"large",fullWidth:!0,onClick:function(){return a(0)}},"Select Burger")),r.a.createElement(qe.a,{item:!0,xs:12,sm:6,md:6},r.a.createElement(Ce.a,{className:s.button,style:d,variant:"contained",size:"large",fullWidth:!0,onClick:function(){return a(1)}},"Select Beverages"))),r.a.createElement(qe.a,{container:!0},r.a.createElement(qe.a,{item:!0,xs:12,className:s.orderItems},l)),r.a.createElement(qe.a,{container:!0,direction:"column",alignItems:"center"},r.a.createElement(qe.a,{item:!0,xs:12},r.a.createElement(Ce.a,{disabled:n,color:"primary",variant:"contained",style:{marginTop:"20px",marginRight:"10px"},onClick:i},t?"Checkout":"Sign In to Continue"),r.a.createElement(Ce.a,{disabled:n,variant:"contained",style:{marginTop:"20px"},onClick:o},"Start Over"))))},an=Object(St.a)((function(e){return{iconBtn:{margin:0},quantity:{display:"flex",flexDirection:"row",alignItems:"center"}}})),rn=function(e){var t=e.orders,n=e.orderKey,a=(e.orderCategory,e.children),i=an();return r.a.createElement(qe.a,{container:!0,direction:"row",alignItems:"flex-start",spacing:2},r.a.createElement(qe.a,{item:!0,xs:11},r.a.createElement(ce.a,{display:"inline",variant:"subtitle1"},t[n].item," "),r.a.createElement("div",{className:i.quantity},r.a.createElement(ce.a,{display:"inline",variant:"subtitle1"},"Quantity: ",t[n].quantity),a)),r.a.createElement(qe.a,{item:!0,xs:1,style:{textAlign:"right"}},r.a.createElement(ce.a,{display:"inline",variant:"subtitle1"},"$",t[n].priceToPay.toFixed(2))))},on=n(116),cn=n.n(on),ln=Object(St.a)((function(e){return{iconBtn:{margin:0}}})),sn=function(e){var t=e.handleDeleteButtonClick,n=ln();return r.a.createElement(X,null,r.a.createElement(ue.a,{title:"Delete","aria-label":"delete"},r.a.createElement(ge.a,{"aria-label":"delete",size:"small",color:"primary",className:n.iconBtn,onClick:t},r.a.createElement(cn.a,{fontSize:"small"}))))},un=Object(St.a)((function(e){return{root:{minWidth:"10px"},label:{width:"10px"}}})),dn=function(e){var t=e.handleAddButtonClick,n=un();return r.a.createElement(X,null,r.a.createElement(ue.a,{title:"Add","aria-label":"add"},r.a.createElement(Ce.a,{"aria-label":"add",size:"small",color:"primary",variant:"outlined",onClick:t,classes:{root:n.root,label:n.label}},r.a.createElement(ht.a,{fontSize:"small"}))))},pn=Object(St.a)((function(e){return{root:{minWidth:"10px"},label:{width:"10px"}}})),mn=function(e){var t=e.handleReduceButtonClick,n=pn();return r.a.createElement(X,null,r.a.createElement(ue.a,{title:"Reduce","aria-label":"reduce"},r.a.createElement(Ce.a,{"aria-label":"reduce",size:"small",color:"primary",variant:"outlined",onClick:t,classes:{root:n.root,label:n.label}},r.a.createElement(yt.a,{fontSize:"small"}))))},bn=Object($.a)((function(e){return{buttons:{marginLeft:e.spacing(5)}}})),fn=function(e){var t=e.handleAddButtonClick,n=e.handleDeleteButtonClick,a=e.handleReduceButtonClick,i=bn();return r.a.createElement("div",{className:i.buttons},r.a.createElement(dn,{handleAddButtonClick:t}),r.a.createElement(mn,{handleReduceButtonClick:a}),r.a.createElement(sn,{handleDeleteButtonClick:n}))},gn=Object(St.a)((function(e){return{box:Object(b.a)({margin:e.spacing(3,2),padding:e.spacing(3,2)},e.breakpoints.down("xs"),{padding:0}),orderTitle:{borderBottom:"1px #cccccc solid",paddingTop:e.spacing(2)},buttons:{display:"flex",direction:"row",justifyContent:"center",margin:e.spacing(2,1)}}})),hn=function(e){var t=e.includeAddRemoveButton,n=e.order,a=e.totalPrice,i=e.handleAddOrderItemQuantity,o=e.handleReduceOrderItemQuantity,c=e.handleRemoveOrderItem,l=gn();return r.a.createElement(mt.a,{className:l.box},r.a.createElement(ce.a,{align:"center",variant:"h6"},"Your Order"),r.a.createElement(ce.a,{align:"center",variant:"subtitle2"},"Total $ ".concat(a.toFixed(2))),r.a.createElement(qe.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:2,className:l.orderTitle},r.a.createElement(qe.a,{item:!0,xs:11},r.a.createElement(ce.a,{display:"inline",variant:"subtitle2"},"Item")),r.a.createElement(qe.a,{item:!0,xs:1},r.a.createElement(ce.a,{display:"inline",variant:"subtitle2"},"Price"))),function(){var e=[];return"[object Object]"===Object.prototype.toString.call(n)&&Object.keys(n).length>0&&Object.keys(n).forEach((function(a,l){if("[object Object]"===Object.prototype.toString.call(n[a])&&Object.keys(n[a]).length>0){var s=Object.keys(n[a]).map((function(e,l){return function(e,a,l){return r.a.createElement(rn,{key:e,orders:n[a],orderCategory:a,orderKey:e},t?r.a.createElement(fn,{handleAddButtonClick:function(){return i(a,e)},handleDeleteButtonClick:function(){return c(a,e)},handleReduceButtonClick:function(){return o(a,e,n[a][e].quantity)}}):null)}(e,a)}));e=[].concat(Object(F.a)(e),Object(F.a)(s))}})),e}())},On=n(225),yn=n(214),vn=n(215),En=n(117),jn=n.n(En),xn=Object($.a)((function(e){return{panelRoot:{width:"90%"},detailsPanel:{backgroundColor:"#F8F8F8",borderTop:"1px #cccccc solid",flexDirection:"column",justifyContent:"center"}}})),In=function(e){var t=e.type,n=e.label,i=e.sizesObj,o=(e.handleOrderChange,e.drinkOrder),c=e.children,l=xn(),s=Object(a.useState)(!1),u=Object(Z.a)(s,2),d=u[0],p=u[1];Object(a.useEffect)((function(){m()}),[]);var m=function(){var e=Object.keys(i);if(o){var t=Object.keys(o),n=!1;if(t.length>0){var a=!0,r=!1,c=void 0;try{for(var l,s=t[Symbol.iterator]();!(a=(l=s.next()).done);a=!0){var u=l.value;e.indexOf(u)>-1&&(p(!0),n=!0)}}catch(d){r=!0,c=d}finally{try{a||null==s.return||s.return()}finally{if(r)throw c}}}p(n)}};return r.a.createElement(On.a,{style:{marginTop:"2px",marginBottom:"4px"},expanded:d,className:l.panelRoot},r.a.createElement(yn.a,{onClick:function(){p((function(e){return!e}))},expandIcon:r.a.createElement(jn.a,null),"aria-controls":"panel1a-content",id:"".concat(t,"-panel-summary")},r.a.createElement(ce.a,{className:l.heading},n)),r.a.createElement(vn.a,{className:l.detailsPanel},c))},kn=n(216),wn=n(220),Sn=Object($.a)((function(e){return{input:{padding:0,textAlign:"center",fontSize:"18px",height:40,width:50}}})),Cn=function(e){var t=e.itemKey,n=e.parentKey,i=e.label,o=e.sizeLabel,c=e.price,l=e.drinkOrder,s=e.handleOrderChange,u=Sn(),d=Object(a.useState)(!1),p=Object(Z.a)(d,2),m=p[0],b=p[1],f=Object(a.useState)(!1),g=Object(Z.a)(f,2),h=g[0],O=g[1],y=Object(a.useState)(0),v=Object(Z.a)(y,2),E=v[0],j=v[1];Object(a.useEffect)((function(){b(!0),x()}),[]),Object(a.useEffect)((function(){m&&x()}),[l]);var x=function(){var e=!1,n=0;l&&Object.prototype.hasOwnProperty.call(l,t)&&(e=!0,n=l[t].quantity),O(e),j(n)};return r.a.createElement(qe.a,{container:!0,direction:"row"},r.a.createElement(qe.a,{item:!0,xs:12,sm:7,md:7},r.a.createElement(kn.a,{control:r.a.createElement(wn.a,{color:"primary",className:u.checkboxRoot,checked:h,onChange:function(){var e=0;h||(e=1),O((function(e){return!e})),j(e);var a={parentKey:n,unitPrice:c,priceToPay:parseFloat(e*c),quantity:parseInt(e,10),item:"".concat(i," ").concat(o)};s("beverages",t,a)},value:t}),label:r.a.createElement(ce.a,{variant:"subtitle1"},o," ($",c.toFixed(2),")")})),r.a.createElement(qe.a,{item:!0,xs:12,sm:5,md:5},r.a.createElement(Ve.a,{variant:"outlined"},r.a.createElement(Ge.a,{disabled:!h,id:"".concat(t,"-quantity"),type:"number",value:E,margin:"none",onChange:function(e){e.preventDefault(),e.stopPropagation();var a=e.currentTarget.value;j(a);var r={parentKey:n,unitPrice:c,priceToPay:parseFloat(a*c),quantity:parseInt(a,10),item:"".concat(i," ").concat(o)};s("beverages",t,r)},startAdornment:r.a.createElement(Qe.a,{position:"start"},r.a.createElement(ce.a,{variant:"subtitle2"},"Quantity:"," ")),inputProps:{className:u.input,min:0}}))))},Tn=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(K.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(i)))).handleOrderChange=function(e,t,a){n.props.updateDrinkOrder(e,t,a)},n.renderMenu=function(){var e=n.props,t=e.drinkOrder,a=e.menu;return Object.keys(a).map((function(e,i){return r.a.createElement(In,{key:i,type:e,label:a[e].label,sizesObj:a[e].sizes,drinkOrder:t},Object.keys(a[e].sizes).map((function(i,o){return r.a.createElement(Cn,{key:o,parentKey:e,label:a[e].label,itemKey:i,sizeLabel:a[e].sizes[i].label,price:a[e].sizes[i].price,drinkOrder:t,handleOrderChange:n.handleOrderChange})})))}))},n}return Object(G.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchDrinkMenu()}},{key:"render",value:function(){var e=this.props,t=e.menu,n=e.menuLoading,a=e.menuLoadSuccess,i=e.classes;return n?r.a.createElement(It,null):a?t?r.a.createElement(Ke.a,{className:i.paper},n?r.a.createElement(It,null):null,r.a.createElement(ce.a,{variant:"h5",align:"center",gutterBottom:!0},"Beverages"),this.renderMenu(),r.a.createElement("div",null,r.a.createElement(Ce.a,{variant:"contained",className:i.btn,onClick:this.props.resetDrinkOrder},"Reset Beverage Order"))):r.a.createElement(It,null):r.a.createElement("p",null,"Menu cannot be loaded.")}}]),t}(a.Component),Pn=_t(Object(s.d)(Object(We.a)((function(e){return{paper:{height:"100%",maxHeight:"750px",overflow:"scroll",width:"100%",padding:e.spacing(1),display:"flex",flexDirection:"column",alignItems:"center"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},btn:{margin:e.spacing(2,1)}}})),Object(l.b)((function(e){var t=e.order,n=e.drinkMenu;return{drinkOrder:t.order.beverages,menu:n.menu,menuLoading:n.loading,menuLoadSuccess:n.success}}),{updateDrinkOrder:function(e,t,n){return{type:"CHANGE_DRINK_ORDER",itemType:e,itemKey:t,orderObj:n}},fetchDrinkMenu:function(){return function(){var e=Object(Ut.a)(Mt.a.mark((function e(t){var n;return Mt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:"FETCH_DRINK_MENU_START"}),e.prev=1,e.next=4,Bt.get("/drinkMenu.json");case 4:(n=e.sent).data&&200===n.status?t({type:"FETCH_DRINK_MENU_SUCCESS",data:n.data}):t({type:"FETCH_DRINK_MENU_FAIL"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Error",e.t0),t({type:"FETCH_DRINK_MENU_FAIL"});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},resetDrinkOrder:function(){return{type:"RESET_DRINK_ORDER"}}}))(Tn),Bt),Rn=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(K.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(i)))).state={steps:0},n.handleStepsChange=function(e){n.setState((function(){return{steps:e}}))},n.handleStartOver=function(){n.props.resetOrder()},n.handleRemoveOrderItem=function(e,t){n.props.removeItem(e,t)},n.handleAddOrderItemQuantity=function(e,t){n.props.addOne(e,t)},n.handleReduceOrderItemQuantity=function(e,t,a){1===a?n.props.removeItem(e,t):n.props.subtractOne(e,t)},n.handleCheckout=function(e){var t=n.props,a=t.history;t.userId?a.push("/cart"):a.push("/auth")},n.getContent=function(){var e=null;switch(n.state.steps){case 0:e=r.a.createElement(en,null);break;case 1:e=r.a.createElement(Pn,{handleAddToOrder:n.handleAddToOrder})}return e},n}return Object(G.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.order,a=e.totalPrice,i=e.userId,o=this.state.steps;return r.a.createElement("div",{className:t.root},r.a.createElement(qe.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:3},r.a.createElement(qe.a,{item:!0,xs:12,sm:12,md:7},r.a.createElement("div",null,r.a.createElement(nn,{userId:i,handleStepsChange:this.handleStepsChange,handleCheckout:this.handleCheckout,handleStartOver:this.handleStartOver,orderEmpty:0===a,steps:o},r.a.createElement(hn,{includeAddRemoveButton:!0,totalPrice:a,order:n,handleAddOrderItemQuantity:this.handleAddOrderItemQuantity,handleReduceOrderItemQuantity:this.handleReduceOrderItemQuantity,handleRemoveOrderItem:this.handleRemoveOrderItem})))),r.a.createElement(qe.a,{item:!0,xs:12,sm:12,md:5,style:{borderRadius:"4px"}},this.getContent())))}}]),t}(a.Component),Dn=Object(s.d)(Y.i,Object(We.a)((function(e){return{buttons:{marginTop:e.spacing(2),display:"flex",flexDirection:"row",justifyContent:"flex-start"}}})),Object(l.b)((function(e){var t=e.order,n=e.auth;return{order:t.order,totalPrice:t.totalPrice,userId:n.userId}}),{removeItem:function(e,t){return{type:"REMOVE_ITEM",itemType:e,itemKey:t}},addOne:function(e,t){return{type:"ADD_ONE",itemType:e,itemKey:t}},resetOrder:Lt,subtractOne:function(e,t){return{type:"SUBTRACT_ONE",itemType:e,itemKey:t}}}))(Rn),Nn=function(e){var t=e.order,n=e.totalPrice,a=e.children;return r.a.createElement(X,null,r.a.createElement(hn,{includeAddRemoveButton:!1,totalPrice:n,order:t}),a)},_n=n(229),Fn=n(217),An=function(e){var t=e.formCtrlStyleClass,n=e.id,i=e.label,o=e.type,c=e.labelWidth,l=e.validationRules,s=e.handleInputValueChange,u=Object(a.useState)(!1),d=Object(Z.a)(u,2),p=d[0],m=d[1],b=Object(a.useState)(""),f=Object(Z.a)(b,2),g=f[0],h=f[1],O={type:o};return r.a.createElement(Ve.a,{error:p,className:t,variant:"outlined",fullWidth:!0,required:!0,margin:"dense"},r.a.createElement(_n.a,{htmlFor:n},i),r.a.createElement(Ge.a,{autoComplete:"off",id:n,name:n,type:o,value:g,labelWidth:c,onChange:function(e){var t=!0,a=e.target.value;if(h(a),!l)return!0;l.required&&(t=""!==a.trim()&&t),l.minLength&&(t=a.trim().length>=l.minLength&&t),l.email&&(t=/^(([^<>()[\].,;:\s@"]+(\.[^<>()[\].,;:\s@"]+)*)|(".+"))@(([^<>()[\].,;:\s@"]+\.)+[^<>()[\].,;:\s@"]{2,})$/i.test(a)&&t),l.zip&&(t=Qt(a)&&t),m(!t),s(a,n,t)},"aria-describedby":"helper-text-".concat(n),inputProps:O}),r.a.createElement(Fn.a,{id:"helper-text-".concat(n),style:{marginTop:"2px"}},p?"Error":""))},Bn=n(2),Hn=n(118),Mn=function(e){var t=e.inputRef,n=e.onChange,a=e.numFormat,i=e.numMask,o=Object(Bn.a)(e,["inputRef","onChange","numFormat","numMask"]);return r.a.createElement(Hn.a,Object.assign({},o,{getInputRef:t,onValueChange:function(e){n({target:{value:e.value}})},format:a,mask:i}))},Un=function(e){var t=e.styleClass,n=e.id,i=e.label,o=e.type,c=e.labelWidth,l=e.numFormat,s=e.numMask,u=e.validationRules,d=e.handleInputValueChange,p=Object(a.useState)(!1),m=Object(Z.a)(p,2),b=m[0],f=m[1],g=Object(a.useState)(""),h=Object(Z.a)(g,2),O=h[0],y=h[1];return r.a.createElement(Ve.a,{error:b,className:t,variant:"outlined",fullWidth:!0,required:!0,margin:"dense"},r.a.createElement(_n.a,{htmlFor:n},i),r.a.createElement(Ge.a,{autoComplete:"off",id:n,name:n,type:o,value:O,labelWidth:c,onChange:function(e){var t=!0,a=e.target.value;if(y(a),!u)return!0;u.required&&(t=""!==a.trim()&&t),u.zip&&(t=Qt(a)&&t),f(!t),d(a,n,t)},"aria-describedby":"helper-text-".concat(n),inputComponent:Mn,inputProps:{numFormat:l,numMask:s}}),r.a.createElement(Fn.a,{id:"helper-text-firstName",style:{marginTop:"2px"}},b?"Error":""))},zn={firstName:{isValid:!1,value:"",id:"firstName",label:"First Name",type:"text",labelWidth:80,validationRules:{required:!0},inputFieldType:"text"},lastName:{isValid:!1,value:"",id:"lastName",label:"Last Name",type:"text",labelWidth:80,validationRules:{required:!0},inputFieldType:"text"},street:{isValid:!1,value:"",id:"street",label:"Address: Street",type:"text",labelWidth:120,validationRules:{required:!0},inputFieldType:"text"},city:{isValid:!1,value:"",id:"city",label:"Address: City",type:"text",labelWidth:100,validationRules:{required:!0},inputFieldType:"text"},zip:{isValid:!1,value:"",id:"zip",label:"Zip",type:"text",labelWidth:30,validationRules:{required:!0,zip:!0},numFormat:"#####",numMask:"_",inputFieldType:"number"},phone:{isValid:!1,value:"",id:"phone",label:"Phone",type:"tel",labelWidth:50,validationRules:{required:!0},numFormat:"+1 (###) ###-####",numMask:"_",inputFieldType:"number"}};function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qn=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(K.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(i)))).state={customer:Wn({},zn),modalOpen:!1,isFormValid:!1,orderDateTime:B()(new Date).toISOString()},n.handleOrder=function(e){var t=n.props,a=t.order,r=t.totalPrice,i=t.userId,o=t.idToken,c=n.state,l=c.customer,s=c.orderDateTime;e.preventDefault(),e.stopPropagation();var u={userId:i,order:a,orderDateTime:s,totalPrice:r,customer:Object.keys(l).reduce((function(e,t){return Wn({},e,Object(b.a)({},t,l[t].value))}),{})};n.props.submitOrder(u,o).then((function(){n.setState((function(){return{modalOpen:!0}}))}))},n.handleInputValueChange=function(e,t,a){var r=Wn({},n.state.customer);r[t].value=e,r[t].isValid=a;var i=Yt(r);n.setState((function(){return{customer:r,isFormValid:i}}))},n.handleCloseModal=function(){n.setState((function(){return{modalOpen:!1}}),(function(){n.props.resetOrder(),n.props.history.push("/")}))},n.renderInputField=function(e,t,a){var i=n.props.classes;return"text"===a.inputFieldType?r.a.createElement(An,{key:t,formCtrlStyleClass:i.formControl,id:a.id,label:a.label,type:a.type,labelWidth:a.labelWidth,validationRules:a.validationRules,handleInputValueChange:n.handleInputValueChange}):"number"===a.inputFieldType?r.a.createElement(Un,{key:t,id:a.id,label:a.label,type:a.type,labelWidth:a.labelWidth,numFormat:a.numFormat,numMask:a.numMask,validationRules:a.validationRules,handleInputValueChange:n.handleInputValueChange}):void 0},n}return Object(G.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.loading,i=t.success,o=this.state,c=o.customer,l=o.modalOpen,s=o.isFormValid,u=null,d="Undecided";return a?(d="Please wait...",u=r.a.createElement(It,null)):i?(d="Success",u=r.a.createElement(ce.a,{align:"center"},"Going to Payment Info Page...")):i||(d="Error",u=r.a.createElement(ce.a,{align:"center"},"Please call customer care.")),r.a.createElement("div",{className:n.contents},r.a.createElement(ce.a,{variant:"h6",gutterBottom:!0},"Enter your contact information"),r.a.createElement("form",{className:n.form},Object.keys(c).map((function(t,n){return e.renderInputField(t,n,c[t])})),r.a.createElement(Ce.a,{type:"submit",color:"primary",variant:"contained",disabled:!s,onClick:this.handleOrder},"Continue")),r.a.createElement(Nt,{title:d,open:l,handleCloseModal:this.handleCloseModal,closeButtonLabel:"Close"},u))}}]),t}(a.Component),Kn=Object(s.d)(Y.i,Object(We.a)((function(e){return function(e){return{contents:Object(b.a)({width:"50vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:"0 2px 3px #ccc",border:"1px solid #eee",padding:e.spacing(4),boxSizing:"border-box"},e.breakpoints.down("sm"),{padding:e.spacing(2),width:"100vh"}),formControl:{margin:"2px"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center"}}}(e)})),Object(l.b)((function(e){var t=e.auth;return{userId:t.userId,idToken:t.idToken}}),{submitOrder:function(e,t){return function(){var n=Object(Ut.a)(Mt.a.mark((function n(a){var r;return Mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a({type:"SUBMIT_ORDER_START"}),r="/orders.json?auth=".concat(t),n.prev=2,n.next=5,Bt({method:"POST",url:r,data:e,headers:zt.headers});case 5:200===n.sent.status?a({type:"SUBMIT_ORDER_SUCCESS"}):a({type:"SUBMIT_ORDER_FAILT"}),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),a({type:"SUBMIT_ORDER_FAILT"});case 12:return n.abrupt("return",Promise.resolve());case 13:case"end":return n.stop()}}),n,null,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},resetOrder:Lt}))(qn),Vn=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(K.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(r)))).handleCancelCheckout=function(){n.props.history.goBack()},n.handleContinue=function(){n.props.history.replace("/cart/contact")},n}return Object(G.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.match,a=e.order,i=e.totalPrice,o=e.loading,c=e.success;return 0!==Object.keys(a.beverages).length||0!==Object.keys(a.burgers).length||c?r.a.createElement("div",{className:t.content},r.a.createElement(Nn,{order:a,totalPrice:i},r.a.createElement("div",{className:t.buttons},r.a.createElement(Ce.a,{color:"primary",variant:"contained",className:t.button,onClick:this.handleContinue},"Continue"),r.a.createElement(Ce.a,{variant:"contained",onClick:this.handleCancelCheckout},"Cancel"))),r.a.createElement("div",{className:t.contact},r.a.createElement(Y.b,{path:"".concat(n.path,"/contact")},r.a.createElement(Kn,{order:a,totalPrice:i,loading:o,success:c})))):r.a.createElement(Y.a,{to:"/"})}}]),t}(a.Component),Gn=Object(s.d)(Y.i,Object(We.a)((function(e){return{content:Object(b.a)({padding:e.spacing(0,6,4,6)},e.breakpoints.down("sm"),{padding:0}),contact:{display:"flex",justifyContent:"center"},buttons:{padding:e.spacing(2,1),display:"flex",justifyContent:"center"},button:{marginRight:e.spacing(1)}}})),Object(l.b)((function(e){var t=e.order;return{order:t.order,totalPrice:t.totalPrice,success:t.success,loading:t.loading}})))(Vn),Qn=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(K.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(i)))).renderOrders=function(e){var t=[];return e&&e.order&&Object.keys(e.order).length>0&&Object.keys(e.order).forEach((function(n,a){e.order[n]&&Object.keys(e.order[n]).length>0&&Object.keys(e.order[n]).forEach((function(a,i){var o=r.a.createElement("div",{key:"".concat(e.id,"-").concat(a)},r.a.createElement(ce.a,{display:"inline",variant:"subtitle2"},"(",e.order[n][a].quantity,")"," "),r.a.createElement(ce.a,{display:"inline",variant:"subtitle2"},e.order[n][a].item));t.push(o)}))})),t},n}return Object(G.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.idToken,n=e.userId;this.props.fetchOrderHistory(t,n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.orders,a=t.loading,i=t.success,o=t.classes;return a?r.a.createElement(It,null):i?n?r.a.createElement("div",{className:o.wrapper},r.a.createElement(ce.a,{gutterBottom:!0,variant:"h5"},"Your Order History"),r.a.createElement(Ke.a,{className:o.content},r.a.createElement(qe.a,{container:!0,className:o.gridContainer},r.a.createElement(qe.a,{item:!0,xs:12,sm:2,md:2},r.a.createElement(ce.a,{variant:"subtitle1"},"Date")),r.a.createElement(qe.a,{item:!0,xs:12,sm:2,md:2},r.a.createElement(ce.a,{variant:"subtitle1"},"Name")),r.a.createElement(qe.a,{item:!0,xs:12,sm:2,md:2},r.a.createElement(ce.a,{variant:"subtitle1"},"Amount")),r.a.createElement(qe.a,{item:!0,xs:12,sm:6,md:6},r.a.createElement(ce.a,{variant:"subtitle1"},"(Quantity) Item")))),r.a.createElement(Ke.a,{className:o.content},n.map((function(t,n){return r.a.createElement(qe.a,{key:"grid-".concat(n),container:!0,className:o.gridContainer},r.a.createElement(qe.a,{item:!0,xs:12,sm:2,md:2},r.a.createElement(ce.a,{variant:"subtitle2"},t.orderDateTime?B()(t.orderDateTime).format("MM-DD-YYYY"):null)),r.a.createElement(qe.a,{item:!0,xs:12,sm:2,md:2},r.a.createElement(ce.a,{variant:"subtitle2"},t.customer.firstName)),r.a.createElement(qe.a,{item:!0,xs:12,sm:2,md:2},r.a.createElement(ce.a,{variant:"subtitle2"},"$",t.totalPrice.toFixed(2))),r.a.createElement(qe.a,{item:!0,xs:12,sm:6,md:6},e.renderOrders(t)))})))):r.a.createElement(It,null):r.a.createElement("p",null,"Order history cannot be loaded.")}}]),t}(a.Component),Yn=Object(s.d)(Y.i,Object(We.a)((function(e){return{wrapper:{width:"100%",display:"flex",paddingTop:e.spacing(2),flexDirection:"column",justifyContent:"center",alignItems:"center"},content:Object(b.a)({marginBottom:e.spacing(1),paddingLeft:e.spacing(2),width:"90%"},e.breakpoints.down("sm"),{width:"100%"}),gridContainer:{padding:e.spacing(2)}}})),Object(l.b)((function(e){var t=e.orderHistory,n=e.auth;return{orders:t.orders,success:t.success,loading:t.loading,idToken:n.idToken,userId:n.userId}}),{fetchOrderHistory:function(e,t){return function(n){n({type:"FETCH_ORDER_HISTORY_START"});var a="?auth=".concat(e,'&orderBy="userId"&equalTo="').concat(t,'"'),r="/orders.json".concat(a);Bt.get(r).then((function(e){e.data&&200===e.status?n({type:"FETCH_ORDER_HISTORY_SUCCESS",orders:e.data}):n({type:"FETCH_ORDER_HISTORY_FAIL"})})).catch((function(e){console.log(e),n({type:"FETCH_ORDER_HISTORY_FAIL"})}))}}}))(Qn),$n={email:{isValid:!1,value:"",id:"email",label:"Email",type:"email",labelWidth:50,validationRules:{required:!0,email:!0},inputFieldType:"text"},password:{isValid:!1,value:"",id:"password",label:"Password",type:"password",labelWidth:50,validationRules:{required:!0,minLength:6},inputFieldType:"text"}},Jn=function(e){return{wrapper:{display:"flex",justifyContent:"center"},contents:Object(b.a)({marginTop:e.spacing(6),width:"50vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",boxShadow:"0 2px 3px #ccc",border:"1px solid #eee",padding:e.spacing(4),boxSizing:"border-box"},e.breakpoints.down("sm"),{padding:e.spacing(2),width:"100vh"}),formControl:{margin:"2px"},form:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},signUpBtn:{width:"100%",display:"flex",justifyContent:"flex-end",marginTop:e.spacing(4)},error:{color:"red"},info:{display:"flex",alignItems:"center",padding:e.spacing(1)}}};function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ea=function(e){function t(){var e,n;Object(W.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(K.a)(this,(e=Object(V.a)(t)).call.apply(e,[this].concat(i)))).state={userForm:Zn({},$n),isFormValid:!1,signUp:!1,redirectPath:"/"},n.handleInputValueChange=function(e,t,a){var r=Zn({},n.state.userForm);r[t].value=e,r[t].isValid=a;var i=Yt(r);n.setState((function(){return{userForm:r,isFormValid:i}}))},n.handleSubmit=function(e){e.preventDefault();var t=n.state,a=t.userForm,r=t.signUp,i=a.email,o=a.password,c=r;n.props.authenticate(i.value,o.value,c)},n.toggleButtons=function(e){e.preventDefault(),n.setState((function(e){return{signUp:!e.signUp}}))},n.renderInputField=function(e,t,a){var i=n.props.classes;return r.a.createElement(An,{key:t,formCtrlStyleClass:i.formControl,id:a.id,label:a.label,type:a.type,labelWidth:a.labelWidth,validationRules:a.validationRules,handleInputValueChange:n.handleInputValueChange})},n}return Object(G.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.origPath;"/orders"===e&&this.setState((function(){return{redirectPath:e}}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.userForm,a=t.isFormValid,i=t.signUp,o=t.redirectPath,c=this.props,l=c.classes,s=c.error,u=c.loading,d=i?"Sign Up":"Sgin In",p=null;return c.userId&&(p=r.a.createElement(Y.a,{to:o})),u?r.a.createElement(It,null):r.a.createElement("div",{className:l.wrapper},p,r.a.createElement("div",{className:l.contents},r.a.createElement("div",{className:l.info},r.a.createElement(ft.a,{color:"primary",fontSize:"large"}),r.a.createElement(ce.a,{variant:"subtitle1",display:"inline",style:{color:"#0c80df",marginLeft:"2px"}},"For Demo, Sign Up with a fictitious email or Sign In with 'test1@email.com', '111111'")),r.a.createElement(ce.a,{variant:"h6",gutterBottom:!0},d),r.a.createElement("form",{className:l.form,onSubmit:this.handleSubmit},Object.keys(n).map((function(t,a){return e.renderInputField(t,a,n[t])})),r.a.createElement(Ce.a,{type:"submit",color:"primary",variant:"contained",disabled:!a},d)),s?r.a.createElement(ce.a,{variant:"subtitle1",className:l.error},s.message):null,r.a.createElement("div",{className:l.signUpBtn},r.a.createElement(Ce.a,{color:"primary",variant:"text",onClick:this.toggleButtons},i?"Sign In":"Sign Up"))))}}]),t}(a.Component),ta=Object(s.d)(Y.i,Object(We.a)((function(e){return Jn(e)})),Object(l.b)((function(e){var t=e.auth;return{error:t.error,loading:t.loading,userId:t.userId}}),{authenticate:function(e,t,n){return function(a){a({type:"AUTH_START"});var r="".concat(n?"https://identitytoolkit.googleapis.com/v1/accounts:signUp":"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword","?key=").concat("AIzaSyC3_UJcuZcYzoqdWqubntEb5vffGl4k85g"),i={email:e,password:t,returnSecureToken:!0};At.a.post(r,i,zt).then((function(e){var t=new Date((new Date).getTime()+1e3*e.data.expiresIn);localStorage.setItem("idToken",e.data.idToken),localStorage.setItem("userId",e.data.localId),localStorage.setItem("expirationDate",t),a(Wt(e.data.idToken,e.data.localId)),a(Kt(e.data.expiresIn))})).catch((function(e){a(function(e){return{type:"AUTH_FAIL",error:e}}(e.response.data.error))}))}}}))(ea),na=function(e){function t(){return Object(W.a)(this,t),Object(K.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){this.props.logOut()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{className:e.wrapper},r.a.createElement("div",{className:e.contents},r.a.createElement(ce.a,{variant:"h5"},"You are signed out."),r.a.createElement("div",{className:e.signUpBtn},r.a.createElement(Ce.a,{component:Q.b,to:"/auth",color:"primary",variant:"text"},"Sign In"))))}}]),t}(a.Component),aa=Object(s.d)(Object(We.a)((function(e){return Jn(e)})),Object(l.b)(null,{logOut:qt}))(na),ra=function(e){var t=e.component,n=e.userId,a=Object(Bn.a)(e,["component","userId"]);return r.a.createElement(Y.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(Y.a,{to:{pathname:"/auth",origPath:e.location.pathname}})}}))},ia=(n(162),function(e){function t(){return Object(W.a)(this,t),Object(K.a)(this,Object(V.a)(t).apply(this,arguments))}return Object(G.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){this.props.checkAuthStatus()}},{key:"render",value:function(){return r.a.createElement(Q.a,{basename:"/build-a-burger/"},r.a.createElement(Le,{userId:this.props.userId},r.a.createElement(Y.d,null,r.a.createElement(ra,{component:Yn,path:"/orders",userId:this.props.userId,exact:!0}),r.a.createElement(Y.b,{path:"/cart"},r.a.createElement(Gn,null)),r.a.createElement(Y.b,{path:"/auth"},r.a.createElement(ta,null)),r.a.createElement(Y.b,{path:"/signout"},r.a.createElement(aa,null)),r.a.createElement(Y.b,{path:"/",exact:!0},r.a.createElement(Dn,null)))))}}]),t}(a.Component)),oa=Object(l.b)((function(e){return{userId:e.auth.userId}}),{checkAuthStatus:function(){return function(e){var t=localStorage.getItem("idToken");if(t){var n=new Date(localStorage.getItem("expirationDate"));if(n&&n<=new Date)e(qt());else{var a=localStorage.getItem("userId");e(Wt(t,a)),e(Kt((n.getTime()-(new Date).getTime())/1e3))}}else e(qt())}}})(ia);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(163);var ca=s.d,la=Object(s.e)(L,ca(Object(s.a)(c.a))),sa=r.a.createElement(l.a,{store:la},r.a.createElement(u.a,{theme:m},r.a.createElement(oa,null)));o.a.render(sa,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},82:function(e,t,n){e.exports={Logo:"Logo_Logo__XLWR1",img:"Logo_img__1OWSa"}}},[[132,1,2]]]);
//# sourceMappingURL=main.6ad9037d.chunk.js.map